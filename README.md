# ğŸ‘† æŒ‡ç‚¹å­—ç·´ç¿’ã‚¢ãƒ—ãƒª (Finger Braille Training App)

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Web ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§**æŒ‡ç‚¹å­—ï¼ˆå…­ç‚¹å…¥åŠ›ï¼‰**ã®ç·´ç¿’ã‚’å¯èƒ½ã«ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ‘ã‚½ã‚³ãƒ³ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ç‚¹å­—ã‚’å…¥åŠ›ã—ã€å¯¾å¿œã™ã‚‹ã²ã‚‰ãŒãªã€ç‚¹å­—ã€ãŠã‚ˆã³ç‚¹ã®ç•ªå·ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¢ºèªã§ãã¾ã™ã€‚

## ğŸŒŸ ä¸»ãªæ©Ÿèƒ½

- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›å¯¾å¿œ**: `F`, `D`, `S`, `J`, `K`, `L` ã‚­ãƒ¼ã‚’ä½¿ã£ãŸæŒ‡ç‚¹å­—å…¥åŠ›ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¤‰æ›**: æŠ¼ã•ã‚ŒãŸç‚¹ã®çµ„ã¿åˆã‚ã›ã«åŸºã¥ãã€å¯¾å¿œã™ã‚‹æ–‡å­—ã‚’å³åº§ã«è¡¨ç¤ºã—ã¾ã™ã€‚
- **å…¨ä»®åå¯¾å¿œ**: å…¨ä»®åå¯¾å¿œ: æ¸…éŸ³ã€æ¿éŸ³ã€åŠæ¿éŸ³ã€æ‹—éŸ³ã€æ‹—æ¿éŸ³ã€æ‹—åŠæ¿éŸ³ ã®å…¥åŠ›ã¨å¤‰æ›ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚
- **é€£ç¬¦å¯¾å¿œã®æ‹¡å¼µä¸­**: æ•°ç¬¦ã€è‹±èªãªã©ã®é€£ç¬¦ï¼ˆè¤‡æ•°ã®ç‚¹å­—ãƒ–ãƒ­ãƒƒã‚¯ã®çµ„ã¿åˆã‚ã›ï¼‰ã®å…¥åŠ›ã¨çŠ¶æ…‹ç®¡ç†æ©Ÿèƒ½ã‚’é–‹ç™ºä¸­ã§ã™ã€‚
- **ã‚¯ãƒªãƒ¼ãƒ³ãª UI**: å…¥åŠ›çµæœã¨ç¾åœ¨ã®å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ†ã‹ã‚Šã‚„ã™ãè¡¨ç¤ºã—ã¾ã™ã€‚

## ğŸš€ ä½¿ã„æ–¹

### 1. ã‚¢ãƒ—ãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

ã‚ã‚‹ç¨‹åº¦å½¢ã«ãªã£ãŸã‚‰ã€Github Pages ã‚„ã€Vercel ãªã©ã§å…¬é–‹ã—ã¾ã™

### 2. å…¥åŠ›æ–¹æ³• (æŒ‡ç‚¹å­—ã‚­ãƒ¼ã‚¢ã‚µã‚¤ãƒ³)

ä»¥ä¸‹ã®ã‚­ãƒ¼ã‚’åŒæ™‚ã«æŠ¼ã™ã“ã¨ã§ã€ç‚¹å­—ã®ç‚¹ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

| æŒ‡ç‚¹å­—ã®ç‚¹            | å·¦æ‰‹ (`FDS`) | å³æ‰‹ (`JKL`) |
| :-------------------- | :----------- | :----------- |
| **ä¸Šæ®µ (1 ç‚¹, 4 ç‚¹)** | F (1 ç‚¹)     | J (4 ç‚¹)     |
| **ä¸­æ®µ (2 ç‚¹, 5 ç‚¹)** | D (2 ç‚¹)     | K (5 ç‚¹)     |
| **ä¸‹æ®µ (3 ç‚¹, 6 ç‚¹)** | S (3 ç‚¹)     | L (6 ç‚¹)     |

ä¾‹:

- **ã€Œã‚ã€** (1 ç‚¹): `F`ã‚­ãƒ¼ã‚’æŠ¼ã™
- **ã€Œã„ã€** (1, 2 ç‚¹): `F`ã¨`D`ã‚­ãƒ¼ã‚’åŒæ™‚ã«æŠ¼ã™
- **ã€Œã‚“ã€** (3, 5, 6 ç‚¹): `S`, `K`, `L`ã‚­ãƒ¼ã‚’åŒæ™‚ã«æŠ¼ã™
- **ã€Œã–ã€** (5 ç‚¹): `K`ã‚­ãƒ¼ã‚’æŠ¼ä¸‹ã—ãŸã®ã¡ã€(1, 5, 6 ç‚¹): `F`, `K`, `L`ã‚­ãƒ¼ã‚’åŒæ™‚ã«æŠ¼ã™
- **ã€Œã«ã‚‡ã€** (4ç‚¹): `J`ã‚­ãƒ¼ã‚’æŠ¼ä¸‹ã—ãŸã®ã¡ã€(2, 3, 4 ç‚¹): `D`, `S`, `J`ã‚­ãƒ¼ã‚’åŒæ™‚ã«æŠ¼ã™
- **ã€Œãã‚…ã€** (4ã€5 ç‚¹): `J`, `K`ã‚­ãƒ¼ã‚’æŠ¼ä¸‹ã—ãŸã®ã¡ã€(1, 4, 6 ç‚¹): `F`, `J`, `l`ã‚­ãƒ¼ã‚’åŒæ™‚ã«æŠ¼ã™
- **ã€Œã´ã‚ƒã€** (4ã€6 ç‚¹): `J`, `l`ã‚­ãƒ¼ã‚’æŠ¼ä¸‹ã—ãŸã®ã¡ã€(1, 3, 6 ç‚¹): `F`, `S`, `L`ã‚­ãƒ¼ã‚’åŒæ™‚ã«æŠ¼ã™

## ğŸ’» æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä»¥ä¸‹ã®æŠ€è¡“ã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: React (Vite / Astro ã®ç’°å¢ƒã§å‹•ä½œ)
- **è¨€èª**: TypeScript
- **çŠ¶æ…‹ç®¡ç†/ãƒ­ã‚¸ãƒƒã‚¯**: React Hooks (`useBrailleLogic.ts` ãªã©ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ä¸­å¿ƒ)
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: CSS Modules
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†**: npm / yarn

## ğŸ› ï¸ é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ãƒ­ãƒ¼ã‚«ãƒ«ã§é–‹ç™ºã‚’è¡Œã†ã«ã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ã€‚

1.  **ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³**
    ```bash
    git clone [https://github.com/yuu5733/finger-braille-app.git](https://github.com/yuu5733/finger-braille-app.git)
    cd my-braille-app
    ```
2.  **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
    ```bash
    npm install
    # ã¾ãŸã¯
    yarn install
    ```
3.  **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•**
    ```bash
    npm run dev
    # ã¾ãŸã¯
    yarn dev
    ```
    ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:XXXX` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒç¢ºèªã§ãã¾ã™ã€‚

## ğŸ—ºï¸ ä»Šå¾Œã®å±•æœ›

- è‹±æ•°å­—ãƒ¢ãƒ¼ãƒ‰ã®å®Œå…¨å¯¾å¿œï¼š`æ•°ç¬¦`ã€`å¤–å­—ç¬¦`ï¼ˆè‹±æ•°ãƒ»è¨˜å·ï¼‰ãƒ¢ãƒ¼ãƒ‰ã¸ã®æ¨ç§»ã¨å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…ã€‚
- ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ã‚„ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ã®è¿½åŠ ã€‚
- ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ï¼ˆãƒ¡ãƒ¼ãƒ«[ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ãƒãƒƒã‚·ãƒ¥åŒ–ã—ã¦ä¿å­˜]ã€Google é€£æºï¼‰
  - Auth0 ãªã©ã‚‚ä½¿ã£ã¦ã¿ã‚‹ã®ã‚‚è‰¯ã„ã‹ã‚‚
- æˆç¸¾ã®è¨˜éŒ²
- ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã§ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®æ”¹å–„ï¼ˆã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã¨ãƒãƒƒãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹æã‚ŒãŒã‚ã‚‹ï¼‰

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’è¨˜è¼‰äºˆå®š (ä¾‹: MIT License)]

## ğŸ§  å…¥åŠ›ãƒ­ã‚¸ãƒƒã‚¯ã®æ¦‚è¦ (`useBrailleLogic` ãŠã‚ˆã³é–¢é€£ãƒ•ãƒƒã‚¯)

ç‚¹å­—å…¥åŠ›ã®ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ã¯ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®**ç”Ÿã®å…¥åŠ›**ã¨ã€å¤‰æ›å¾Œã®**å‡ºåŠ›**ã‚’åˆ†é›¢ã™ã‚‹ã“ã¨ã§ã€å …ç‰¢ãªãƒ¢ãƒ¼ãƒ‰æ¨ç§»ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | å½¹å‰² |
| --- | --- |
| `useKeyboardListener` | ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‹ã‚‰ã®ç”Ÿã®ã‚­ãƒ¼æŠ¼ä¸‹ (`pressedKeys`) ã‚’å–å¾—ã™ã‚‹ã€‚ |
| `useBrailleInputTiming` | ã‚­ãƒ¼æŠ¼ä¸‹ã‚’ãƒ‡ãƒã‚¦ãƒ³ã‚¹ã—ã€**å®‰å®šã—ãŸå…¥åŠ›** (`stabilizedKeys`) ã¨ **ã‚­ãƒ¼è§£æ”¾** (`isKeysReleased`) ã®çŠ¶æ…‹ã‚’ç”Ÿæˆã™ã‚‹ã€‚ |
| `useBrailleLogic` | `stabilizedKeys` ã‚’å—ã‘å–ã‚Šã€è¡¨ç¤ºã™ã¹ãæ–‡å­—ï¼ˆ`pendingData`ï¼‰ã‚’è¨ˆç®—ã—ã€ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ã®ãƒˆãƒªã‚¬ãƒ¼ã‚’è¡Œã†ã€‚**ï¼ˆè¡¨ç¤ºã®ãƒ­ã‚¸ãƒƒã‚¯ï¼‰** |
| `useBrailleOutputProcessor` | `isKeysReleased` ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ `pendingData` ã‚’å—ã‘å–ã‚Šã€**ç¾åœ¨ã®ãƒ¢ãƒ¼ãƒ‰ã«åŸºã¥ã„ã¦æœ€çµ‚çš„ãªæ–‡å­—ã‚’ç¢ºå®šãƒ»å‡ºåŠ›ã™ã‚‹ã€‚** **ï¼ˆç¢ºå®šã®ãƒ­ã‚¸ãƒƒã‚¯ï¼‰** |

### ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ã®ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆï¼ˆ`refactor/input-logic`ï¼‰

> æ³¨é‡ˆ: ã“ã®ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã¯ã€æ¿éŸ³ãƒ¢ãƒ¼ãƒ‰ï¼ˆDakuonï¼‰ã‚’ä¾‹ã¨ã—ãŸã€ã‚­ãƒ¼æŠ¼ä¸‹ã‹ã‚‰æ–‡å­—ç¢ºå®šã¾ã§ã®åŸºæœ¬çš„ãªæµã‚Œã‚’ç¤ºã—ã¾ã™ã€‚æ‹—éŸ³ã€åŠæ¿éŸ³ãªã©ã®ãƒ¢ãƒ¼ãƒ‰ã‚‚åŒæ§˜ã®ãƒ­ã‚¸ãƒƒã‚¯ã§å‹•ä½œã—ã¾ã™ã€‚

ãƒ•ãƒ­ãƒãƒ£ãƒ¼ãƒˆ
```mermaid
flowchart TD
    start["ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿ"] --> listen{"useKeyboardListener"};
    listen --> pressedKeys("pressedKeys: Set<string>");

    subgraph "Timing & Displayï¼ˆuseBrailleInputTiming & useBrailleLogicï¼‰"
        pressedKeys --> debounce{"100msãƒ‡ãƒã‚¦ãƒ³ã‚¹"};
        debounce -- 100msçµŒéå¾Œ --> stabilizedKeys("stabilizedKeys: Set<string>");

        stabilizedKeys --> isModeKey{"å®‰å®šå…¥åŠ›ã¯<br>ãƒ¢ãƒ¼ãƒ‰ç¬¦å˜ç‹¬ã‹ï¼Ÿ"};
        
        isModeKey -- Yes --> setModeDisplay["setCurrentModeã§ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´<br>pendingDataã«ãƒ¢ãƒ¼ãƒ‰ç¬¦ã‚’ã‚»ãƒƒãƒˆ"];
        isModeKey -- No --> isKana{"æœ‰åŠ¹ãªç‚¹å­—ã‹ï¼Ÿ"};
        
        isKana -- Yes --> setKanaDisplay["pendingDataã«æ¸…éŸ³ã‚’ã‚»ãƒƒãƒˆ"];
        isKana -- No --> setUnknown["pendingDataã«ã€Œä¸æ˜ã€ã‚’ã‚»ãƒƒãƒˆ"];
    end

    subgraph "Output Processingï¼ˆuseBrailleOutputProcessorï¼‰"
        pressedKeys --> isKeysReleased{"ã‚­ãƒ¼ã¯å…¨ã¦<br>é›¢ã•ã‚ŒãŸã‹ï¼Ÿ"};
        
        isKeysReleased -- Yes --> processOutput["processOutputé–¢æ•°å®Ÿè¡Œ"];
        
        processOutput --> checkMaintain{"ãƒ¢ãƒ¼ãƒ‰ç¬¦å˜ç‹¬ã®<br>ã‚­ãƒ¼è§£æ”¾ã‹ï¼Ÿ"};
        
        checkMaintain -- Yes --> finish("ãƒ¢ãƒ¼ãƒ‰ç¶­æŒ");
        
        checkMaintain -- No --> isWaitingMode{"Dakuon / Youon<br>ãªã©ã®å¾…æ©Ÿãƒ¢ãƒ¼ãƒ‰ã‹ï¼Ÿ"};
        
        isWaitingMode -- Yes --> convert["getConvertedCharacterã§å¤‰æ›"];
        convert --> outputChar["onOutputã§ç¢ºå®šæ–‡å­—ã‚’å‡ºåŠ›"];
        outputChar --> resetMode["setCurrentMode('Kana')"];

        isWaitingMode -- No --> isModeFu{"ç¢ºå®šæ–‡å­—ã¯<br>ãƒ¢ãƒ¼ãƒ‰ç¬¦ã‹ï¼Ÿ"};
        
        isModeFu -- Yes --> setWaitingMode["setCurrentModeã§å¾…æ©Ÿãƒ¢ãƒ¼ãƒ‰ã¸"];
        
        isModeFu -- No --> outputKana["onOutputã§æ¸…éŸ³ã‚’å‡ºåŠ›"];
    end
```
